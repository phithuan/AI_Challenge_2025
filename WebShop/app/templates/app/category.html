{% extends 'app/base.html' %}
{% load widget_tweaks %}
{% load static %}

{% block Register %}
<div class="container-fluid my-5 px-5">
  <h4 class="mb-4">
    Danh má»¥c: <span class="text-primary">"{{ category.name }}"</span>
  </h4>

  <div class="row text-center">
    {% for item in products %}
      <div class="col-md-6 col-lg-3 mb-5">
        <div class="card shadow-lg border-0 h-100 rounded-4 overflow-hidden">
          <a href="{% url 'product_detail' item.id %}" class="img-hover">
            <img src="{{ item.ImageURL }}" class="product-img" alt="{{ item.name }}">
          </a>
          <div class="card-body d-flex flex-column">
          <h5 class="card-title fw-bold">{{item.name}}</h5>
          <p class="card-text">{{ item.description|default:"(ChÆ°a cÃ³ mÃ´ táº£)" }}</p>

          <!-- ğŸ”¹ NÃºt mua hÃ ng + giÃ¡ -->
          <div class="d-flex justify-content-between align-items-center mt-auto">
            <a  data-product="{{ item.id }}" data-action="add" 
                href="#" class="btn btn-success update-cart">ThÃªm vaÌ€o gioÌ‰ haÌ€ng
            </a> 
            <h4 class="text-secondary m-0 fw-semibold"><strong>$ {{item.price | floatformat:0}}</strong></h4>
          </div>
        </div>
        </div>
      </div>
    {% empty %}
      <div class="alert alert-warning">ğŸ˜¥ ChÆ°a cÃ³ sáº£n pháº©m nÃ o trong danh má»¥c nÃ y.</div>
    {% endfor %}
  </div>
</div>

<!-- âœ… CSS cho áº£nh sáº£n pháº©m -->
<style>
  /* Hiá»‡u á»©ng hover */
  .img-hover img {
    transition: transform 0.4s ease;
  }
  .img-hover img:hover {
    transform: scale(1.08);
  }

  /* Cá»‘ Ä‘á»‹nh kÃ­ch thÆ°á»›c áº£nh Ä‘á»ƒ Ä‘á»“ng Ä‘á»u */
  .product-img {
    height: 250px;       /* chá»‰nh cao tháº¥p tÃ¹y Ã½ */
    object-fit: cover;   /* giá»¯ tá»‰ lá»‡, cáº¯t pháº§n dÆ° */
    width: 100%;
    border-top-left-radius: 0.5rem;
    border-top-right-radius: 0.5rem;
  }
</style>

{% endblock Register %}
