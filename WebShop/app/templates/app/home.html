{% extends 'app/base.html' %}
{% load static %}
{% block banner_slider %}
<!-- ✅ Carousel Bootstrap -->
<div id="carouselExampleDark" class="carousel slide carousel-fade" data-bs-ride="carousel">

  <!-- 🔹 Nút điều hướng nhỏ bên dưới -->
  <div class="carousel-indicators">
    <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
    <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="1" aria-label="Slide 2"></button>
  </div>

  <!-- 🔹 Nội dung của từng slide -->
  <div class="carousel-inner">

    <!-- Slide 1 -->
    <div class="carousel-item active" data-bs-interval="6000">
      <img src="{% static 'app/image/banner/nen_OP.jpg' %}" 
           class="d-block w-100 img-fluid" 
           alt="Thời đại mới" 
           style="height: 500px; object-fit: cover;">
      <div class="carousel-caption d-none d-md-block bg-dark bg-opacity-50 rounded p-3">
        <h5 class="fw-bold text-light">🌊 Thời đại hải tặc mới</h5>
        <p class="text-light">⚡ Trí tuệ nhân tạo - Trợ lý cá nhân của bạn</p>
      </div>
    </div>

    <!-- Slide 2 -->
    <div class="carousel-item" data-bs-interval="6000">
      <img src="{% static 'app/image/banner/anhgiadinh.jpg' %}" 
           class="d-block w-100 img-fluid" 
           alt="Thời đại mới" 
           style="height: 500px; object-fit: cover;">
      <div class="carousel-caption d-none d-md-block bg-dark bg-opacity-50 rounded p-3">
        <h5 class="fw-bold text-light">Thời đại mới</h5>
        <p class="text-light">Bộ sofa, kích thước lớn trong một không gian không chỉ rộng mà còn mở thích hợp cho những buổi sum họp gia đình và hội ngộ bạn bè.</p>
      </div>
    </div>

  </div>

  <!-- 🔹 Nút qua lại -->
  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>

  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>

{% endblock banner_slider %}

{% block main-content %}
<!-- ✅ Phần nội dung chính -->
<div class="container-fluid my-5 px-5"> <!-- Đổi container my-5 -> container-fluid + padding -->
  <div class="row text-center">
    {% for item in product %}
    <!-- 🔹 Card sản phẩm -->
    <div class="col-md-4 col-lg-3 mb-5"> <!--đổi col-md-4 mb-5 sangggg col-lg-3: hiển thị 4 cột trên màn hình lớn -->
      <div class="card shadow-lg border-0 h-100">
        
        <!-- 🔹 Khi hover vào ảnh sẽ phóng to -->
        <a href="{% url 'product_detail' item.id %}" class="img-hover">
          <img src="{{ item.ImageURL }}" class="card-img-top" alt="product sofa"> <!-- Sử dụng item.image.url để lấy URL của ảnh từ model -->
        </a>

        <div class="card-body d-flex flex-column">
          <h5 class="card-title fw-bold">{{item.name}}</h5>
          <p class="card-text">sofa phụ đề cho sản phẩm nè muốn ghi gì thêm thì thêm.</p>

          <!-- 🔹 Nút mua hàng + giá -->
          <div class="d-flex justify-content-between align-items-center mt-auto">
            <a  data-product="{{ item.id }}" data-action="add" 
                href="#" class="btn btn-success update-cart">🛒 Thêm vào giỏ hàng
            </a> 
            <h4 class="text-danger m-0"><strong>$ {{item.price | floatformat:0}}</strong></h4>
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>

<!-- ✅ CSS hover effect -->
<style>
  .img-hover img {
    transition: transform 0.4s ease;  /* Hiệu ứng mượt khi thay đổi */
  }
  .img-hover img:hover {
    transform: scale(1.08);  /* Phóng to 8% khi hover */
  }
</style>
{% endblock main-content %}
